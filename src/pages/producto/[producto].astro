---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { products } from '../../data/products';
import type { Product } from '../../data/products';

export async function getStaticPaths() {
  return products.map((product) => ({
    params: { producto: product.slug },
    props: { product },
  }));
}

const { product } = Astro.props;
---

<BaseLayout title={`${product.name} - Detalles`} description={product.description}>
  <div class="max-w-2xl mx-auto">
    <h2 class="text-3xl font-bold mb-4">{product.name}</h2>
    <img src={product.image} alt={product.name} class="w-full h-64 object-cover rounded mb-4" />
    <p class="text-2xl text-gray-800 mb-2">Precio: {product.price.toFixed(2)} €</p>
    <p class="text-gray-700 mb-4">{product.description}</p>
    <a href="/" class="text-blue-500 hover:underline">← Volver al Catálogo</a>
    <!-- Botón de WhatsApp -->
    <a
      href={`https://wa.me/tu-numero-de-telefono?text=Estoy%20interesado%20en%20el%20producto%20${encodeURIComponent(product.name)}`}
      class="inline-flex items-center px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 mt-4"
      target="_blank"
      rel="noopener noreferrer"
    >
      Contactar por WhatsApp
    </a>
  </div>
</BaseLayout>
